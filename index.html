<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¦å²¡ 2026 | Kuromi å®¶æ—å¤§å†’éšª</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* å¼•å…¥å¯æ„›é¢¨æ ¼çš„å¿«æ¨‚é«”èˆ‡æ—¥ç³»å­—é«” */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;700&family=ZCOOL+KuaiLe&display=swap');
        
        :root {
            --kuromi-purple: #9D76C1;
            --kuromi-dark: #2D2727;
            --kuromi-pink: #FF91C1;
            --kuromi-bg: #F9F7FC;
        }

        /* å…¨åŸŸå¯æ„›å­—é«” */
        body { 
            font-family: 'ZCOOL KuaiLe', 'Noto Sans JP', sans-serif; 
            background-color: var(--kuromi-bg); 
            color: var(--kuromi-dark);
            background-image: radial-gradient(var(--kuromi-purple) 0.5px, transparent 0.5px);
            background-size: 20px 20px;
        }

        [v-cloak] { display: none; }
        
        .kuromi-gradient { background: linear-gradient(135deg, #9D76C1 0%, #765898 100%); }
        .tab-active { color: var(--kuromi-purple); border-bottom: 6px solid var(--kuromi-purple); }
        
        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
            100% { transform: translateY(0px); }
        }
        .float-anim { animation: floating 3s ease-in-out infinite; }

        .kuromi-card { 
            background: white; 
            border-radius: 45px; 
            border: 4px solid #E2D9F3; 
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(157, 118, 193, 0.05);
        }
        .kuromi-card:active { transform: scale(0.92); box-shadow: inset 0 5px 15px rgba(0,0,0,0.1); }

        .hide-scrollbar::-webkit-scrollbar { display: none; }
        
        /* é é¢é€²å…¥å‹•ç•« */
        .slide-up-enter-active, .slide-up-leave-active { transition: all 0.4s ease; }
        .slide-up-enter-from { transform: translateY(40px); opacity: 0; }
        .slide-up-leave-to { transform: translateY(-40px); opacity: 0; }

        input, select, button {
            font-family: 'ZCOOL KuaiLe', sans-serif !important;
        }

        /* è‡ªå®šç¾©å½ˆçª—èƒŒæ™¯æ¨¡ç³Š */
        .modal-mask {
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
        }
        
        html { scroll-behavior: smooth; }
    </style>
</head>
<body>
    <div id="app" v-cloak class="max-w-md mx-auto min-h-screen relative pb-32 overflow-x-hidden">
        
        <!-- æˆåŠŸæç¤ºè¦–çª— -->
        <transition name="slide-up">
            <div v-if="showToast" class="fixed top-24 left-1/2 -translate-x-1/2 z-[100] w-72 text-center">
                <div class="bg-black/80 text-white p-5 rounded-[35px] flex items-center justify-center gap-3 backdrop-blur-md shadow-2xl border-2 border-purple-400">
                    <i data-lucide="sparkles" class="text-pink-400"></i>
                    <p class="font-bold text-lg tracking-wider">{{ toastMsg }}</p>
                </div>
            </div>
        </transition>

        <!-- Header -->
        <header class="kuromi-gradient text-white p-10 pt-16 rounded-b-[80px] shadow-2xl relative">
            <div class="absolute -top-2 left-1/2 -translate-x-1/2 opacity-20">
                <svg width="240" height="120" viewBox="0 0 200 100">
                    <path d="M40,100 L0,20 L60,60 Z" fill="black" />
                    <path d="M160,100 L200,20 L140,60 Z" fill="black" />
                </svg>
            </div>

            <div class="flex justify-between items-center relative z-10">
                <div class="flex-1 pr-2">
                    <h1 class="text-6xl font-bold tracking-tight" style="text-shadow: 4px 4px 0px rgba(0,0,0,0.2);">ç¦å²¡ 2026</h1>
                    <div class="flex items-center gap-2 mt-4">
                        <span class="bg-black/30 px-5 py-2 rounded-full text-xs font-bold uppercase tracking-[0.3em]">KCY FAMILY</span>
                        <i data-lucide="heart" class="w-6 h-6 fill-pink-400 text-pink-400"></i>
                    </div>
                </div>
                
                <div @click="handleWeatherClick"
                     class="bg-black/40 p-6 rounded-[50px] backdrop-blur-xl text-center border-2 border-white/20 min-w-[130px] float-anim cursor-pointer hover:bg-black/60 transition-all shadow-2xl">
                    <i data-lucide="cloud-sun" class="w-14 h-14 mx-auto mb-1 text-[#FF91C1]"></i>
                    <p class="text-4xl font-black">{{ weather.temp }}Â°C</p>
                    <p class="text-xs opacity-80 uppercase mt-1 tracking-widest">Fukuoka</p>
                </div>
            </div>
        </header>

        <!-- å°è¦½é ç±¤ -->
        <nav v-if="itineraryView === 'list'" class="flex bg-white/95 backdrop-blur-lg sticky top-0 z-50 px-8 mt-4 border-b-6 border-purple-100 shadow-lg">
            <button @click="activeTab = 'itinerary'" :class="['flex-1 py-7 font-black text-xl transition-all', activeTab === 'itinerary' ? 'tab-active' : 'text-slate-400']">è¡Œç¨‹</button>
            <button @click="activeTab = 'expense'" :class="['flex-1 py-7 font-black text-xl transition-all', activeTab === 'expense' ? 'tab-active' : 'text-slate-400']">è¨˜å¸³</button>
            <button @click="activeTab = 'tools'" :class="['flex-1 py-7 font-black text-xl transition-all', activeTab === 'tools' ? 'tab-active' : 'text-slate-300']">å·¥å…·</button>
        </nav>

        <!-- 1. è¡Œç¨‹åˆ†é  -->
        <div v-if="activeTab === 'itinerary'">
            
            <!-- (A) è¡Œç¨‹é¦–é ï¼šæ—¥æœŸæŒ‰éˆ• -->
            <transition name="slide-up">
                <div v-if="itineraryView === 'list'" class="px-8 py-10 space-y-8">
                    <div class="flex items-center justify-between px-2">
                        <h2 class="text-3xl font-black text-slate-800">å†’éšªå‡ºç™¼ï¼ ğŸ’œ</h2>
                        <button @click="fetchItineraryFromSheet" class="p-4 text-purple-400 bg-white rounded-full shadow-lg active:rotate-180 transition-all duration-700">
                            <i data-lucide="refresh-cw" :class="{'animate-spin': syncStatus === 'loading'}"></i>
                        </button>
                    </div>

                    <div class="grid grid-cols-2 gap-6">
                        <div v-for="(day, index) in itinerary" :key="day.date" 
                             @click="goToDetail(index)"
                             class="kuromi-card p-10 flex flex-col items-center justify-center text-center shadow-2xl border-b-[12px] border-[#9D76C1] hover:border-pink-400 relative">
                            <span class="text-sm font-black text-purple-300 uppercase mb-2">{{ day.dayName }}</span>
                            <span class="text-7xl font-black text-slate-700 mb-4">{{ day.date.split('/')[1] }}</span>
                            <span class="text-xs font-black text-white bg-purple-400 px-5 py-2 rounded-full shadow-md">{{ day.date }}</span>
                            <div v-if="day.plans.length > 0" class="absolute top-6 right-6 w-5 h-5 bg-pink-400 rounded-full animate-pulse border-4 border-white shadow-lg"></div>
                        </div>
                    </div>

                    <button @click="openExternal('https://maps.app.goo.gl/pd5Mgn8orC6EG7dc6')" 
                            class="w-full bg-[#2D2727] text-white py-8 rounded-[50px] flex items-center justify-center gap-5 shadow-2xl active:scale-95 transition-all mt-6 border-4 border-purple-900/10 hover:bg-black">
                        <i data-lucide="map-pinned" class="text-pink-400 w-10 h-10"></i>
                        <span class="font-black text-2xl tracking-wider">é–‹å•Ÿåœ°åœ–æ™¯é» ğŸ’œ</span>
                    </button>
                </div>

                <!-- (B) è¡Œç¨‹è©³æƒ…é  -->
                <div v-else-if="itineraryView === 'detail'" class="px-8 py-10 min-h-screen">
                    <div class="flex items-center justify-between mb-10">
                        <div class="flex items-center gap-6">
                            <button @click="itineraryView = 'list'" class="p-6 bg-white rounded-full shadow-xl text-purple-600 active:scale-75 transition-all border-2 border-purple-50">
                                <i data-lucide="chevron-left" class="w-10 h-10"></i>
                            </button>
                            <div>
                                <h2 class="text-5xl font-black text-slate-800 tracking-tight">{{ itinerary[selectedDay].date }}</h2>
                                <p class="text-sm font-black text-purple-400 uppercase mt-2 tracking-widest">æœ¬æ—¥å†’éšªè¨ˆç•«</p>
                            </div>
                        </div>
                    </div>

                    <!-- æ–°å¢è¡Œç¨‹æŒ‰éˆ• -->
                    <button @click="startAddPlan" class="w-full bg-white border-4 border-dashed border-purple-200 text-purple-500 py-10 rounded-[50px] flex items-center justify-center gap-4 active:scale-95 transition-all shadow-inner hover:bg-purple-50 mb-10">
                        <i data-lucide="calendar-plus" class="w-10 h-10"></i>
                        <span class="font-black text-3xl">æ–°å¢è¡Œç¨‹ ğŸ’œ</span>
                    </button>

                    <!-- è¡Œç¨‹åˆ—è¡¨ -->
                    <div v-if="itinerary[selectedDay].plans.length > 0" class="space-y-8">
                        <div v-for="(plan, pIdx) in itinerary[selectedDay].plans" :key="pIdx" 
                             class="kuromi-card p-10 flex flex-col shadow-2xl border-l-[25px] border-[#9D76C1] cursor-default">
                            <div class="flex justify-between items-start mb-8">
                                <div class="flex items-center gap-3">
                                    <span class="text-xl font-black text-white bg-slate-800 px-6 py-2.5 rounded-full shadow-xl tracking-tight">{{ plan.time }}</span>
                                    <!-- æœ¬åœ°å„²å­˜ä¸­çš„æç¤º -->
                                    <span v-if="plan.isLocal" class="text-[10px] font-black text-white bg-pink-400 px-3 py-1 rounded-full animate-pulse">æ­£åœ¨å¯«å…¥é›²ç«¯...</span>
                                </div>
                                <div class="flex gap-4">
                                    <button @click="startEditPlan(pIdx)" class="p-5 bg-purple-50 text-purple-400 rounded-full active:scale-75 transition-transform shadow-sm">
                                        <i data-lucide="pencil-line" class="w-8 h-8"></i>
                                    </button>
                                    <button @click="openExternal(plan.title)" class="p-5 bg-pink-50 text-pink-400 rounded-full active:scale-75 transition-transform shadow-sm">
                                        <i data-lucide="navigation" class="w-8 h-8"></i>
                                    </button>
                                </div>
                            </div>
                            <h3 class="text-4xl font-black text-slate-700 leading-tight pr-8">{{ plan.title }}</h3>
                        </div>
                    </div>

                    <div v-else class="py-40 text-center opacity-20">
                        <i data-lucide="smile" class="w-24 h-24 mx-auto mb-8 text-purple-200"></i>
                        <p class="font-black text-3xl tracking-widest uppercase">ç›®å‰æ²’æœ‰è¡Œç¨‹å”·</p>
                    </div>

                    <!-- è¡Œç¨‹ç·¨è¼¯/æ–°å¢å½ˆçª— -->
                    <div v-if="isEditingPlan" class="fixed inset-0 z-[110] modal-mask flex items-center justify-center p-8">
                        <div class="bg-white w-full rounded-[60px] p-12 shadow-2xl space-y-10 border-[10px] border-purple-100">
                            <h3 class="text-4xl font-black text-slate-800 flex items-center gap-4">
                                <i data-lucide="pen-tool" class="text-purple-500 w-10 h-10"></i> {{ editingPlanIndex === -1 ? 'æ–°å¢è¨ˆç•«' : 'ä¿®æ”¹è¨ˆç•«' }}
                            </h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="text-sm font-black text-slate-400 uppercase ml-4 tracking-[0.2em]">æŠµé”æ™‚é–“</label>
                                    <input v-model="editPlanBuffer.time" placeholder="ä¾‹å¦‚ 14:30" class="w-full border-4 border-purple-50 p-5 text-3xl font-black focus:border-purple-400 outline-none bg-slate-50 rounded-[30px] mt-2">
                                </div>
                                <div>
                                    <label class="text-sm font-black text-slate-400 uppercase ml-4 tracking-[0.2em]">å…§å®¹èªªæ˜</label>
                                    <input v-model="editPlanBuffer.title" placeholder="è¦å»å“ªè£¡å‘¢ï¼Ÿ" class="w-full border-4 border-purple-50 p-5 text-3xl font-black focus:border-purple-400 outline-none bg-slate-50 rounded-[30px] mt-2">
                                </div>
                            </div>
                            <div class="flex gap-4 pt-6">
                                <button @click="savePlanChange" :disabled="isSaving" class="flex-1 kuromi-gradient text-white py-8 rounded-[40px] font-black text-2xl shadow-2xl flex items-center justify-center gap-4 active:scale-95 disabled:grayscale">
                                    <i v-if="isSaving" data-lucide="loader-2" class="animate-spin w-8 h-8"></i>
                                    {{ isSaving ? 'åŒæ­¥ä¸­' : 'å„²å­˜è¡Œç¨‹ ğŸ’œ' }}
                                </button>
                                <button @click="isEditingPlan = false" class="px-10 bg-slate-100 text-slate-400 rounded-[40px] font-black text-xl">å–æ¶ˆ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </transition>
        </div>

        <!-- 2. å·¥å…·èˆ‡ç‹€æ…‹å€ (ç•¥ï¼Œä¿æŒå¯æ„›é¢¨æ ¼) -->
        <div v-if="activeTab === 'expense' || activeTab === 'tools'" class="p-12 text-center py-40 opacity-50">
            <i data-lucide="heart" class="w-24 h-24 mx-auto text-purple-200 animate-pulse"></i>
            <p class="font-black text-2xl mt-4">åŠŸèƒ½é‹ä½œä¸­ï¼ ğŸ’œ</p>
        </div>

        <div class="fixed bottom-0 left-0 right-0 h-8 kuromi-gradient z-[60]"></div>
    </div>

    <script>
        const { createApp, ref, onMounted, nextTick } = Vue;
        createApp({
            setup() {
                const GAS_WEB_APP_URL = "https://script.google.com/macros/s/AKfycbwvdE4Xl8y5MHHPRN_Ep5zOY5GFBSc41p7vtpopQaDdxsTsVYymukBsYZfCYA7m01V4/exec"; 
                const SHEET_ID = '1u-FDoDbi50FROw4tDGrsWRnbAsJQMDdZEb1CySV1qc4';
                const ITINERARY_GID = '1691304811';

                const activeTab = ref('itinerary');
                const itineraryView = ref('list'); 
                const selectedDay = ref(0);
                const syncStatus = ref('idle');
                const isSaving = ref(false);
                const showToast = ref(false);
                const toastMsg = ref('');
                const weather = ref({ temp: '24', icon: 'cloud-sun', status: 'ready' });

                // æœ¬åœ°é–å®šè³‡æ–™åº«ï¼šç”¨æ–¼å…‹æœ Google CSV å¿«å–å»¶é²
                const localTripLock = ref({}); 

                const itinerary = ref([
                    { date: '5/30', dayName: 'SAT', plans: [] }, { date: '5/31', dayName: 'SUN', plans: [] },
                    { date: '6/1', dayName: 'MON', plans: [] }, { date: '6/2', dayName: 'TUE', plans: [] },
                    { date: '6/3', dayName: 'WED', plans: [] }, { date: '6/4', dayName: 'THU', plans: [] },
                    { date: '6/5', dayName: 'FRI', plans: [] }, { date: '6/6', dayName: 'SAT', plans: [] }
                ]);

                const isEditingPlan = ref(false);
                const editingPlanIndex = ref(-1);
                const editPlanBuffer = ref({ time: '', title: '', oldTime: '' });

                // è®€å–æœ¬åœ°å„²å­˜çš„é–å®šè¡Œç¨‹
                const loadLocalLocks = () => {
                    const saved = localStorage.getItem('fukuoka_trip_locks');
                    if (saved) {
                        localTripLock.value = JSON.parse(saved);
                    }
                };

                const saveLocalLocks = () => {
                    localStorage.setItem('fukuoka_trip_locks', JSON.stringify(localTripLock.value));
                };

                const goToDetail = (index) => {
                    selectedDay.value = index;
                    itineraryView.value = 'detail';
                    window.scrollTo(0, 0);
                    nextTick(() => lucide.createIcons());
                };

                const startAddPlan = () => {
                    editingPlanIndex.value = -1;
                    editPlanBuffer.value = { time: '', title: '', oldTime: '' };
                    isEditingPlan.value = true;
                    nextTick(() => lucide.createIcons());
                };

                const startEditPlan = (pIdx) => {
                    editingPlanIndex.value = pIdx;
                    const plan = itinerary.value[selectedDay.value].plans[pIdx];
                    editPlanBuffer.value = { ...plan, oldTime: plan.time };
                    isEditingPlan.value = true;
                    nextTick(() => lucide.createIcons());
                };

                const savePlanChange = async () => {
                    if (!editPlanBuffer.value.title || !editPlanBuffer.value.time) return;
                    isSaving.value = true;
                    const targetDate = itinerary.value[selectedDay.value].date;
                    const isNew = editingPlanIndex.value === -1;
                    const planData = { 
                        ...editPlanBuffer.value, 
                        isLocal: true, 
                        targetDate: targetDate,
                        lockId: targetDate + "_" + (isNew ? Date.now() : editPlanBuffer.value.time)
                    };

                    try {
                        // 1. ç«‹å³åæ‡‰åœ¨æœ¬åœ°ç•«é¢
                        if (isNew) {
                            itinerary.value[selectedDay.value].plans.push(planData);
                        } else {
                            itinerary.value[selectedDay.value].plans[editingPlanIndex.value] = planData;
                        }
                        
                        // 2. å­˜å…¥æœ¬åœ°é–å®šåº« (LocalStorage)ï¼Œé˜²æ­¢ CSV é‡åˆ·æ™‚æ¶ˆå¤±
                        localTripLock.value[planData.lockId] = planData;
                        saveLocalLocks();
                        
                        // é‡æ–°æ’åº
                        itinerary.value[selectedDay.value].plans.sort((a,b) => {
                            const tA = a.time.replace(':','');
                            const tB = b.time.replace(':','');
                            return parseInt(tA) - parseInt(tB);
                        });

                        // 3. éåŒæ­¥é€å¾€é›²ç«¯ (ä¸è¦è®“ä½¿ç”¨è€…ç­‰å¤ªä¹…)
                        fetch(GAS_WEB_APP_URL, {
                            method: "POST", mode: "no-cors",
                            headers: { "Content-Type": "text/plain" },
                            body: JSON.stringify({ type: 'itinerary', ...planData, isNew: isNew })
                        });

                        toastMsg.value = "å·²å„²å­˜é›²ç«¯ ğŸ’œ";
                        showToast.value = true;
                        setTimeout(() => showToast.value = false, 3000);
                        isEditingPlan.value = false;

                        // 8ç§’å¾Œæ‰é–‹å§‹å˜—è©¦é‡æ–°è®€å– (çµ¦ Google å¿«å–ä¸€é»æ™‚é–“)
                        setTimeout(fetchItineraryFromSheet, 8000);
                    } catch (e) {
                        toastMsg.value = "é›²ç«¯é€£ç·šå¤±æ•—"; 
                        showToast.value = true;
                    } finally { isSaving.value = false; }
                };

                const fetchItineraryFromSheet = async () => {
                    syncStatus.value = 'loading';
                    const url = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/export?format=csv&gid=${ITINERARY_GID}&t=${Date.now()}`;
                    try {
                        const res = await fetch(url);
                        const csv = await res.text();
                        
                        // è§£æ CSV
                        const rows = csv.replace(/\r/g, '').split('\n').map(line => {
                            const result = [];
                            let current = "";
                            let inQuotes = false;
                            for (let i = 0; i < line.length; i++) {
                                if (line[i] === '"') inQuotes = !inQuotes;
                                else if (line[i] === ',' && !inQuotes) { result.push(current.trim()); current = ""; } 
                                else current += line[i];
                            }
                            result.push(current.trim());
                            return result;
                        });

                        const newItinerary = [
                            { date: '5/30', dayName: 'SAT', plans: [] }, { date: '5/31', dayName: 'SUN', plans: [] },
                            { date: '6/1', dayName: 'MON', plans: [] }, { date: '6/2', dayName: 'TUE', plans: [] },
                            { date: '6/3', dayName: 'WED', plans: [] }, { date: '6/4', dayName: 'THU', plans: [] },
                            { date: '6/5', dayName: 'FRI', plans: [] }, { date: '6/6', dayName: 'SAT', plans: [] }
                        ];

                        for (let i = 1; i < rows.length; i++) {
                            const row = rows[i];
                            const timeStr = row[0] ? row[0].replace(/"/g, '').trim() : ''; 
                            if (!timeStr) continue;
                            for (let colIdx = 1; colIdx <= 8; colIdx++) {
                                const title = row[colIdx] ? row[colIdx].replace(/"/g, '').trim() : '';
                                if (title && newItinerary[colIdx-1]) {
                                    newItinerary[colIdx-1].plans.push({ time: timeStr, title: title, isLocal: false });
                                }
                            }
                        }

                        // ã€é‡é»ï¼šåˆä½µæœ¬åœ°é–å®šè³‡æ–™ã€‘
                        newItinerary.forEach(day => {
                            Object.keys(localTripLock.value).forEach(lockId => {
                                const lock = localTripLock.value[lockId];
                                if (lock.targetDate === day.date) {
                                    // æª¢æŸ¥é›²ç«¯æ˜¯å¦å·²ç¶“æœ‰é€™ä¸€ç­†äº† (å®Œå…¨æ¯”å°æ™‚é–“èˆ‡æ¨™é¡Œ)
                                    const inCloud = day.plans.some(p => p.time === lock.time && p.title === lock.title);
                                    if (inCloud) {
                                        // é›²ç«¯å·²ç¶“åŒæ­¥äº†ï¼Œç§»é™¤æœ¬åœ°é–
                                        delete localTripLock.value[lockId];
                                    } else {
                                        // é›²ç«¯é‚„æ²’æœ‰ï¼Œå°‡æœ¬åœ°ç‰ˆæœ¬å¼·åˆ¶æ’å…¥æˆ–è¦†è“‹
                                        const existsIdx = day.plans.findIndex(p => p.time === lock.time);
                                        if (existsIdx !== -1) day.plans[existsIdx] = lock;
                                        else day.plans.push(lock);
                                    }
                                }
                            });
                            day.plans.sort((a,b) => a.time.replace(':','') - b.time.replace(':',''));
                        });

                        saveLocalLocks();
                        itinerary.value = newItinerary;
                        syncStatus.value = 'success';
                    } catch (e) { syncStatus.value = 'error'; }
                    finally { setTimeout(() => syncStatus.value = 'idle', 2000); nextTick(() => lucide.createIcons()); }
                };

                const openExternal = (q) => {
                    const target = q.includes('å›é£¯åº—') ? 'åšå¤šç¥‡åœ’æ«›ç”°ç¥ç¤¾å‰è¥¿éµå…‹é­¯å§†é…’åº—' : q;
                    window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(target)}`, '_blank');
                };

                onMounted(() => { 
                    loadLocalLocks();
                    fetchItineraryFromSheet(); 
                    lucide.createIcons(); 
                });

                return { 
                    activeTab, itineraryView, selectedDay, itinerary, isSaving, showToast, toastMsg, syncStatus, 
                    weather, isEditingPlan, editingPlanIndex, editPlanBuffer,
                    goToDetail, startAddPlan, startEditPlan, savePlanChange, openExternal, fetchItineraryFromSheet
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
